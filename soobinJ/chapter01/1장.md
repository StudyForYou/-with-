# 1장 들아가며

## 1.1 웹 개발의 역사

### 1. 자바스크립트의 탄생

- 웹의 다양한 콘텐츠를 표현하기 위해 등장
- C, Java와 유사한 기본 문법을 가지고 있으며, self의 프로토타입 기반 상속 개념, Scheme의 일급 함수 개념을 차용한 언어
  - self: 프로토타입 개념 기반의 객체 지향 프로그래밍 언어
  - 프로토타입: 하나의 디자인 패턴, 객체를 복제하면서 생성한다는 특징 존재
  - Scheme: 함수형 프로그래밍과 절차적 프로그래밍을 지원하는 다중 패러다임 프로그래밍 언어, Lisp 언어에서 파생, AI분야에서 많이 쓰임
  - 일급함수: 함수들이 다른 변수처럼 다루어질 때 일급 함수를 가진다고 함, 예를 들어, 함수는 다른 함수들에 전달인자로 제공되고, 다른 함수에 의해 반환될 수 있으며, 변수에 값으로서 할당될 수 있음
- 빠르게 시장 반응을 확인할 수 있는 프로토타입 언어

### 2. 자바스크립트 표준, ECMAScript의 탄생

- 넷스케이프, 마이크로소프트는 새로운 기능을 늘렸지만 각자의 브라우저에서만 동작함
- 크로스 브라우징 이슈 발생
  - 인터넷 익스플로러와 내비게이터의 DOM 구조는 완전히 다름
  - 웹 페이지가 다르게 동작하거나 제대로 동작하지 않음
- 초기의 자바스크립트는 브라우저 생태계를 고려해서 작성된 것아 아니라 새로운 기능이 추가되는 형태로 발전
  - 자바스크립트와 브라우저 발전 속도의 차이 발생
  - 브라우저는 자바스크립트의 변화를 따라가지 못함
- 사용자가 예전 버전의 브라우저를 사용한다면 새로운 기능을 제공하지 못함
  - 왜냐하면 자바스크립트에 기능이 추가되면 런타임 환경인 브라우저도 이 기능을 지원할 수 있어야 하기 때문
  - 이를 해결하기 위해 폴리필, 트랜스파일 개념 등장
  - 폴리필
    - 브라우저가 지원하지 않는 코드를 브라우저에서 사용할 수 있도록 변환한 코드 조각이나 플러그인
    - 라이브러리: core.js, polyfill.io
  - 트랜스파일
    - 최신 버전의 코드를 예전 버전의 코드로 변환하는 과정을 의미
    - 트랜스파일러: Bable
  - 둘다 최신 기능을 구버전의 실행환경에서 동작할 수 있게 바꿔주는 역할을 함
- 모든 브라우저에서 동일하게 동작하는 표준화된 자바스크립트의 필요성 제기
  - 넷스케이프는 Ecama에 표준화를 위한 기술 규격을 제출
  - EC-MAScript라는 이름으로 자바스크립트 표준화를 공식화함

### 3. 웹사이트에서 웹 애플리케이션으로의 전환

- 전환
  - 처음 등장한 시기: 누구에게나 같은 정보를 보여주는 역할을 수행함 (정적 웹사이트)
  - 발전: 사용자가 직접 정보를 생산하고 공유할 수 있는 역할을 수행함 (웹 애플리케이션)
- 웹사이트
  - 수집된 데이터 및 정보를 특정 페이지에 표시하기 위한 정적인 웹
  - 단방향으로 정보를 제공
  - 사용자와 상호 작용하지 않음
  - HTML에 링크가 연결된 웹 페이지 모음으로 콘텐츠가 동적으로 업데이트되지 않음
- 웹 애플리케이션
  - 사용자와 상효작용하는 쌍방향 소통의 웹
  - 웹 페이지 내부에 수많은 애플리케이션이 동작하고 있기 때문에 웹애플리케이션이라고 부름
  - 구글지도: 웹 애플리케이션 시대의 서막을 연 서비스
    - 기존의 지도 서비스는 이미 만들어져 있는 지도를 브라우저가 다운로드해서 보여주는 형태
    - 구글 지도는 길을 찾기 위해 사요자가 직접 출발지와 도착지를 입력할 수 있음 (쌍방향 소통)
  - 웹의 성장 -> 구현해야 하는 결과물 규모 커짐 -> 개발 생태계 변화 필요

### 4. 개발 생태계의 발전

- 대규모 웹 서비스 개발의 필요성 증가
- `컴포넌트 단위로 개발`하는 방식 생겨남
- Ajax로 페이지 전체를 새로고침하지 않아도 자바스크립트의 비동기 요청을 사용해서 페이지의 일부 데이터를 로드할 수 있게 됨
  - 사용자마다 부분적으로 다른 화면을 런데링할 수 있게 됨
- 컴포넌트 베이스 개발(CBD) 방법론
  - 서비스 규모 증가, 데이터 증가, 표현해야 하는 화면의 다양성 증가 등의 상황에 맞물려 등장
  - 서비스에서 다르는 데이터를 구분하고 그에 맞는 UI를 표현할 수 있게 컴포넌트 단위로 개발하는 접근 방식
  - 재사용할 수 있는 컴포넌트를 개발 또는 조합해서 하나의 애플리케이션을 만드는 개발 방법론
  - 컴포넌트
    - 모듈과 유사하게 하나의 독립된 기능을 재사용하기 위한 코드 묶음
    - 모듈과 달리 런타임 환경에서 독립적으로 배포, 실행될 수 있는 단위
    - 컴포넌트는 다른 컴포넌트와의 의존성을 최소화하거나 없애야 함
    - 하지만 조합과정에서 필연적으로 의존성이 생김 - 의존성: 의존하고 있는 대상의 변경에 영향받을 수 있는 가능성
      컴포넌트 간의 의존성을 파악해야 제대로 컴포넌트를 사용하고 대응할 수 있음

### 5. 개발자 협업의 필요성 증가

- 결과물의 증가 -> 개발자, 개발자 협업의 필요성 증가
- 개발에 투입된 인원이 많아질수록 코드를 파악하기 어려워짐
- 자바스크립트가 유지보수에 적합한 언어인가?

## 1.2 자바스크립트의 한계

### 1. 동적 타입 언어

- 변수에 타입을 명시적으로 지정하지 않고 코드가 실행되는 런타임에 변숫값이 할당될 때 해당 값의 타입에 따라 변수 타입이 결정되는 것을 의미

### 2. 동적 타이핑 시스템의 한계

```js
const sumNumber = (a, b) => {
  return a + b;
};

sumNumber(1, 2); //3
sumNumber(100); //NaN
sumNumber("a", "b"); //ab
```

- 함수를 실행할 때 인자에 하나의 숫자만 전달하거나 문자를 전달함
- 이 경우 에러도 발생하지 않고 정상적으로 동작함
- <b>개발자 의도와 다르게 동작할 수 있음</b>
- 원인: 자바스크립의 관대함(동적 타입 언어)
  - 함수를 호출할 때 사용되는 인수 값에 따라 a,b타입이 결정됨
  - 인자에 하나의 숫자만 전달한 경우: b가 undefined이므로 + 연산자의 피연산자가 될 수 없지만 오류를 발생하지 않고, b를 NaN으로 형변환 후 실행함

### 3. 한계 극복을 위한 해결 방안

- 자바스크립트 인터페이스의 필요성을 느끼게 되며 JSDoc, propTypes, 다트 등 등장
- JSDoc
  - 모듈, 네임스페이스, 클래스, 메서드, 매개변수 등에 대한 API 문서 생성 도구
  - 주석에 `@ts-check`를 추가하면 타입 및 에러 확인이 가능함
  - 소스코드에 타입 힌트를 제공하는 HTML 문서를 생성할 수 있음 -> `/** ... */` 사이에 기술
  - 단점: 주석의 성격을 지니고 있기 때문에 강제성을 부여해 사용하기 어려움
- propTypes
  - 리액트에서 컴포넌트 props의 타입을 검사하기 위해 사용하는 속성
  - 전체 애플리케이션의 타입 검사를 하는데는 사용할 수 없음
  - 단점: 리액트라는 특정 라이브러리에서만 사용할 수 있음
- 다트
  - 구글이 자바스크립트를 대체하기 위해 제시한 새로운 언어, 타이핑이 가능함(위 문제들의 해결책으로 보였음)
  - 자바스크립트가 이미 자리매김한 상황에서 새로운 언어의 등장으로 개발의 파편화를 불러올 수 있어 좋지 않은 시선이 강했음
- 자바스크립트 스스로가 인터페이스를 기술할 수 있는 언어로 발전해야 한다는 의견이 많았음

#### 우형 이야기 - WoowahanJs 개발 비화

- 웹 애플리케이션 발전으로 퍼블리셔의 업무 -> 프론트엔드 업무 수행 필요
- Backbone.js 기반의 오픈소스 프레임워크인 WoowahanJS를 개발
- 아주 간단한 코드 동작, 단순 구현 -> 숙련도에 맞춰 점진적 업데이트
- 문제점
  - 테스트 환경과 개발 도구의 부족
  - jQuery로 DOM 직접 조작 -> 사이드 이펙트 발생 위험 높음
  - 오토 렌더링을 지원하지 않아 성능 저하
  - 외부에서 많이 사용되는 프레임워크가 아니기 때문에 신입 개발자 러닝 커브 높음
  - 컴포넌트 기반 개발을 하는데, 변경점이 생길 때마다 인터페이스를 파악하기 어려워 코드 추적과 탐색에 많은 시간 소요됨
- 의미 있는 시도였지만, 다양한 이유와 인터페이스를 알기 쉽지 않다는 자바스크립트의 언어적 한계에 부딪힘

### 4. 타입스크립트의 등장

- 마이크로소프트는 자바스크립트의 슈퍼셋 언어인 타입스크립트를 공개함
  - 슈퍼셋
    - 기존 언어에 새로운 기능과 문법을 추가해서 보완하거나 향상하는 것을 말함
    - 기존 언어와 호환되며 일반적으로 컴파일러 등으로 기존 언어 코드로 변환되어 실행됨
- 다트와 달리 자바스크립트 코드를 그대로 사용할 수 있었음
- 안전성 보장
  - 정적 타이핑 제공
  - 컴파일 단계에서 타입 검사를 해줌
  - 런타임 에러 사전에 방지 가능 -> 안전성 상승
- 개발 생산성 향상: VSCode 등의 IDE에서 타입 자동 완성 기능 제공
- 협업에 유리
  - 인터페이스, 제네릭 등을 지원하는데 인터페이스가 기술되면 코드를 더 쉽게 이해할 수 있게 도와줌
  - 인터페이스: 객체 구조를 정의하는 역할을 함, 특정 개체가 가져야 하는 속성과 메서드의 집합을 정의해 그 구조를 따르게 함
  - 자동완성 기능이나 기술된 인터페이스로 코드 쉽게 파악 가능
- 자바스크립트에 점진적으로 적용 가능
  - 슈퍼셋이기 때문에 일괄 전환이 아닌 점진적 도입 가능함
